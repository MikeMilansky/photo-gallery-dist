webpackJsonp([1],{"+La1":function(t,e){},"+cgv":function(t,e){},"/pWP":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-uploader"},[i("form",{attrs:{enctype:"multipart/form-data",novalidate:""}},[i("h2",[t._v("Загрузить фотографии")]),t._v(" "),t.uploadedFiles.length?i("div",{staticClass:"uploaded-images"},t._l(t.uploadedFiles,function(e){return i("div",{key:e.publicId,staticClass:"image-container"},[i("img",{staticClass:"img-responsive img-thumbnail",attrs:{src:e.url,alt:e.originalName}}),t._v(" "),i("i",{staticClass:"fa fa-times icon-remove",attrs:{"aria-hidden":"true"},on:{click:function(i){t.deleteImage(e)}}})])})):t._e(),t._v(" "),i("div",{staticClass:"dropbox"},[i("input",{staticClass:"input-file",attrs:{type:"file",multiple:"",name:t.uploadFieldName,disabled:t.isLoading,accept:"image/*"},on:{change:function(e){t.filesChange(e.target.name,e.target.files),t.fileCount=e.target.files.length}}}),t._v(" "),t.isLoading?t._e():i("p",[t._v("\n        Перетащи сюда файлы"),i("br"),t._v(" или кликни для выбора\n      ")]),t._v(" "),t.isLoading?i("p",[t._v("\n        Загружается "+t._s(t.fileCount)+" файлов...\n      ")]):t._e()])])])},a=[],s={render:n,staticRenderFns:a};e.a=s},"/yPZ":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("S82i"),a=i("7+uW"),s={getAllAlbums:function(t){var e=t.commit;return a.a.http.get("albums").then(function(t){e(n.a,t.body)})},deleteAlbum:function(t,e){var i=t.commit;return a.a.http.delete("albums/"+e.id).then(function(){i(n.b,e)})}}},0:function(t,e){},"1ta2":function(t,e){},"2Uuk":function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("NYxO");e.a={name:"loading-block",computed:a()({},i.i(s.a)(["isLoading"]))}},"3f40":function(t,e){},"4pJl":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n="RECEIVE_ALBUM_DETAILS"},"4qOc":function(t,e){},"5W1q":function(t,e){},"7knd":function(t,e,i){"use strict";e.a={props:["photo"]}},"7ztc":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-page"},[t._m(0),t._v(" "),i("div",{staticClass:"row"},[t._l(t.albums,function(t){return i("album-preview",{key:t.id,attrs:{album:t}})}),t._v(" "),t.albums.length||t.isLoading?t._e():i("div",{staticClass:"no-data"},[i("div",[t._v("Пока еще не создано ни одного альбома :(")]),t._v(" "),i("div",[i("router-link",{attrs:{to:{name:"album_create"}}},[t._v("Исправить!")])],1)])],2)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("h2",[t._v("Альбомы")])])])}],s={render:n,staticRenderFns:a};e.a=s},"9M+g":function(t,e){},"9im/":function(t,e){},Bm0C:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-xs-3 col-sm-4 album-container"},[i("router-link",{attrs:{to:{name:"album_details",params:{id:t.album.id}}}},[i("div",{staticClass:"card card-album"},[i("img",{staticClass:"card-img-top",attrs:{src:t.album.cover.url}}),t._v(" "),i("div",{staticClass:"card-block"},[i("div",{staticClass:"card-title"},[t._v(t._s(t.album.title))])]),t._v(" "),t.isAuthorized?i("i",{staticClass:"fa fa-times icon-remove",attrs:{"aria-hidden":"true"},on:{click:function(e){t.deleteAlbum(e)}}}):t._e()])])],1)},a=[],s={render:n,staticRenderFns:a};e.a=s},CUam:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n,a=i("bOdI"),s=i.n(a),o=i("Euvm"),u=i("yI9a"),r=(i.n(u),n={},s()(n,o.a,function(t,e){t.images=t.images.concat(e)}),s()(n,o.b,function(t,e){t.images=u(t.images,e)}),s()(n,o.c,function(t){t.images=[]}),s()(n,o.d,function(t,e){t.images=e}),n)},"Crh/":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("4pJl"),a=i("2247"),s=(i.n(a),i("V5U5")),o={getAlbumDetails:function(t,e){var a=t.commit,o=e.albumId;return i.i(s.a)(o).then(function(t){a(n.a,t)})},createNewAlbum:function(t,e){var n=(t.commit,{title:e.title,description:e.description,images:a(e.images,function(t){return{publicId:t.public_id,url:t.url,title:"Be title here"}})});return i.i(s.b)(n)},updateAlbum:function(t,e){var n=(t.commit,{id:e.id,title:e.title,description:e.description,images:a(e.images,function(t){return{publicId:t.public_id,url:t.url,title:"Be title here"}})});return i.i(s.c)(n)}}},Cucf:function(t,e,i){"use strict";function n(t){i("fAJB")}var a=i("NklV"),s=i("otXQ"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-5309d286",null);e.a=r.exports},Drc2:function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("NYxO");e.a={name:"navbar",methods:{logOff:function(){this.$store.dispatch("logOff")}},computed:a()({},i.i(s.a)(["isAuthenticated","isAuthorized","userInfo"])),data:function(){return{yandexLink:"https://oauth.yandex.ru/authorize?response_type=token&client_id=b1d50c86d151454a95f8d83d76f45d7a&device_id=123456&display"}}}},EKyU:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container container-main",attrs:{id:"app"}},[i("navbar"),t._v(" "),i("router-view"),t._v(" "),i("page-footer"),t._v(" "),i("v-dialog"),t._v(" "),i("loading-block")],1)},a=[],s={render:n,staticRenderFns:a};e.a=s},Euvm:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return o});var n="RECEIVE_UPLOADED_IMAGES",a="REMOVE_UPLOADED_IMAGE",s="RESET_UPLOADED_IMAGES",o="SET_IMAGES"},FYC7:function(t,e,i){"use strict";var n=i("QOVP"),a=i("T7Ie"),s=i("CUam"),o={images:[]};e.a={state:o,getters:n.a,actions:a.a,mutations:s.a}},Fm25:function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("NYxO");e.a={name:"album_preview",props:["album"],computed:a()({},i.i(s.a)(["isAuthorized"])),methods:{deleteAlbum:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.$modal.show("dialog",{title:"Удаление альбома",text:"Подтвердите удаление альбома: "+this.album.title,buttons:[{title:"Удалить",handler:function(){e.$store.dispatch("deleteAlbum",e.album).then(function(){e.$modal.hide("dialog")})}},{title:"Отменить"}]})}}}},FwSy:function(t,e,i){"use strict";function n(t){i("RyqV")}var a=i("QN5p"),s=i("MLqd"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-25c8ce3e",null);e.a=r.exports},I2lz:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("//Fk"),a=i.n(n),s=i("VrOL"),o=i("zvJS"),u=i("ye8Q"),r={setToken:function(t,e){(0,t.commit)(s.a,e),localStorage.setItem(o.a.authTokenKey,e)},getUserInfo:function(t){var e=t.commit,n=t.state;return n.token?i.i(u.a)(n.token).then(function(t){e(s.d,t),i.i(u.b)(t.id).then(function(t){e(s.c,t.isAuthorized)})}):a.a.resolve(!1)},logOff:function(t){(0,t.commit)(s.b),localStorage.setItem(o.a.authTokenKey,"")}}},IcnI:function(t,e,i){"use strict";var n=i("7+uW"),a=i("NYxO"),s=i("ykUz"),o=i("kbj8"),u=i("FYC7"),r=i("J9hg"),c=i("bDyY");n.a.use(a.b),e.a=new a.b.Store({modules:{albums:s.a,albumDetails:o.a,uploadedImages:u.a,loadingBlock:r.a,authentication:c.a},strict:!0,plugins:[]})},IuYM:function(t,e,i){"use strict";function n(t){i("1ta2")}var a=i("gufj"),s=i("7ztc"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-3780b73b",null);e.a=r.exports},"Iv/H":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={album:function(t){return t.albumDetails}}},J9hg:function(t,e,i){"use strict";var n=i("V2Sz"),a=i("K3te"),s=i("nZ/3"),o={isLoading:!1};e.a={state:o,getters:n.a,actions:a.a,mutations:s.a}},JGiR:function(t,e,i){"use strict";function n(t){i("oW+t")}var a=i("Fm25"),s=i("Bm0C"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-eece659e",null);e.a=r.exports},Jmt5:function(t,e){},JwVV:function(t,e){},Jxv8:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n="SET_LOADING_STATE"},K3te:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("Jxv8"),a={changeLoadingState:function(t,e){(0,t.commit)(n.a,e)}}},KS8B:function(t,e,i){"use strict";var n=i("c/Tr"),a=i.n(n),s=i("Dd8w"),o=i.n(s),u=i("NYxO");e.a={name:"image-uploader",data:function(){return{isLoading:!1,uploadError:null,currentStatus:null,uploadFieldName:"photos"}},computed:o()({},i.i(u.a)({uploadedFiles:"images"})),methods:{reset:function(){this.uploadedFiles=[],this.uploadError=null},deleteImage:function(t){this.$store.dispatch("deleteImage",t)},save:function(t){var e=this;this.isLoading=!0,this.$store.dispatch("uploadImages",t).then(function(){e.isLoading=!1})},filesChange:function(t,e){var i=new FormData;e.length&&(a()(Array(e.length).keys()).map(function(n){i.append(t,e[n],e[n].name)}),this.save(i))}}}},"LTH/":function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("woOf"),o=i.n(s),u=i("v/PK"),r=i("V5U5"),c=i("NYxO");e.a={name:"album_create",created:function(){this.$store.dispatch("resetUploadedImages")},data:function(){return{form:{title:"",description:""},isEditMode:!1,editorOptions:{placeholder:"Введи описание альбома..."}}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.isEditMode?this.$store.dispatch("updateAlbum",o()(this.form,this.$store.state.uploadedImages)).then(function(){e.$store.dispatch("resetUploadedImages"),e.$router.push("/home")}):this.$store.dispatch("createNewAlbum",o()(this.form,this.$store.state.uploadedImages)).then(function(){e.$store.dispatch("resetUploadedImages"),e.$router.push("/home")})},setData:function(t){this.form={id:t._id,title:t.title,description:t.description},this.$store.dispatch("setImages",t.images),this.isEditMode=!0}},computed:a()({},i.i(c.a)(["images"])),beforeRouteEnter:function(t,e,n){t.params.id?i.i(r.a)(t.params.id).then(function(t){n(function(e){return e.setData(t)})}):n()},components:{"image-uploader":u.a}}},M93x:function(t,e,i){"use strict";function n(t){i("JwVV")}var a=i("xJD8"),s=i("EKyU"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,null,null);e.a=r.exports},MGJN:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"card card-img"},[i("img",{staticClass:"card-img-top",attrs:{src:t.photo.url}})])])])},a=[],s={render:n,staticRenderFns:a};e.a=s},MLqd:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about-page"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("h2",[t._v("О сайте")])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[t._v("\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed molestie suscipit turpis a vulputate. Sed neque eros, maximus eu dictum quis, molestie sit amet diam. Sed interdum justo nec quam tempus, sed consequat nisi consectetur. Cras vel elit consequat, facilisis mi malesuada, egestas ex. Donec convallis aliquam interdum. Sed neque magna, vehicula et felis ut, eleifend efficitur nisi. Nunc lacus turpis, sollicitudin ut cursus at, ornare sed purus. Pellentesque ac erat sed augue scelerisque congue non quis dolor. Nunc felis nulla, congue ut odio ut, suscipit eleifend eros. Fusce auctor luctus orci, quis laoreet mi. Donec in felis vulputate, convallis sem sed, ultrices ipsum. Phasellus arcu orci, lobortis ut feugiat ut, aliquam in mauris. Aliquam et vulputate risus.\n\n      Quisque eget elit sapien. Sed ut euismod enim. Nulla sodales sem a dignissim euismod. Donec egestas tempus ex et gravida. Nam nisl erat, dapibus in accumsan quis, consectetur convallis mauris. Phasellus quis orci molestie, dignissim felis in, posuere elit. Vivamus bibendum mattis ex aliquet convallis. Vestibulum lorem nibh, aliquet eu massa id, aliquam pulvinar orci. Phasellus tellus magna, convallis dignissim ex non, aliquam mattis tortor. Nunc vehicula magna eget tincidunt pulvinar. Fusce vehicula, lacus sed ullamcorper commodo, dui felis sodales tortor, ut facilisis mi tortor id ante. Morbi cursus metus nec odio egestas vestibulum. Donec lobortis orci in nisi aliquam, sed posuere dolor fringilla. Sed convallis tristique nisl ac congue.\n    ")])])])}],s={render:n,staticRenderFns:a};e.a=s},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a=i("ORbq"),s=i("sCSS"),o=i("sUu7"),u=i("/7iZ"),r=i.n(u),c=i("rifk"),l=i.n(c),d=i("Jmt5"),g=(i.n(d),i("9M+g")),m=(i.n(g),i("5W1q")),I=(i.n(m),i("M93x")),f=i("YaEn"),C=i("IcnI");n.a.use(o.a),n.a.use(a.a),n.a.use(s.a),n.a.use(r.a),n.a.use(l.a,{dialog:!0}),n.a.http.options.root="https://photo-gallery-be.herokuapp.com",n.a.config.productionTip=!1,new n.a({el:"#app",store:C.a,router:f.a,template:"<App/>",components:{App:I.a}})},NklV:function(t,e,i){"use strict";e.a={name:"about",created:function(){var t=this;this.$store.dispatch("changeLoadingState",!0),this.$store.dispatch("setToken",this.$route.query.access_token),this.$store.dispatch("getUserInfo").then(function(){t.$store.dispatch("changeLoadingState",!1),t.$router.push("home")})}}},QJr5:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),i("div",{ref:"editor"})],2)},a=[],s={render:n,staticRenderFns:a};e.a=s},QN5p:function(t,e,i){"use strict";e.a={name:"about"}},QOVP:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={images:function(t){return t.images}}},RyKK:function(t,e){t.exports="data:image/svg+xml;base64,PCEtLSBCeSBTYW0gSGVyYmVydCAoQHNoZXJiKSwgZm9yIGV2ZXJ5b25lLiBNb3JlIEAgaHR0cDovL2dvby5nbC83QUp6YkwgLS0+DQo8IS0tIFRvZG86IGFkZCBlYXNpbmcgLS0+DQo8c3ZnIHdpZHRoPSI1NyIgaGVpZ2h0PSI1NyIgdmlld0JveD0iMCAwIDU3IDU3IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0cm9rZT0iI2ZmZiI+DQogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSAxKSIgc3Ryb2tlLXdpZHRoPSIyIj4NCiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjUiIGN5PSI1MCIgcj0iNSI+DQogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3kiDQogICAgICAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMi4ycyINCiAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz0iNTA7NTs1MDs1MCINCiAgICAgICAgICAgICAgICAgICAgIGNhbGNNb2RlPSJsaW5lYXIiDQogICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4NCiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJjeCINCiAgICAgICAgICAgICAgICAgICAgIGJlZ2luPSIwcyIgZHVyPSIyLjJzIg0KICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPSI1OzI3OzQ5OzUiDQogICAgICAgICAgICAgICAgICAgICBjYWxjTW9kZT0ibGluZWFyIg0KICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+DQogICAgICAgICAgICA8L2NpcmNsZT4NCiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjI3IiBjeT0iNSIgcj0iNSI+DQogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3kiDQogICAgICAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMi4ycyINCiAgICAgICAgICAgICAgICAgICAgIGZyb209IjUiIHRvPSI1Ig0KICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPSI1OzUwOzUwOzUiDQogICAgICAgICAgICAgICAgICAgICBjYWxjTW9kZT0ibGluZWFyIg0KICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+DQogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3giDQogICAgICAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMi4ycyINCiAgICAgICAgICAgICAgICAgICAgIGZyb209IjI3IiB0bz0iMjciDQogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjI3OzQ5OzU7MjciDQogICAgICAgICAgICAgICAgICAgICBjYWxjTW9kZT0ibGluZWFyIg0KICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+DQogICAgICAgICAgICA8L2NpcmNsZT4NCiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjQ5IiBjeT0iNTAiIHI9IjUiPg0KICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImN5Ig0KICAgICAgICAgICAgICAgICAgICAgYmVnaW49IjBzIiBkdXI9IjIuMnMiDQogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjUwOzUwOzU7NTAiDQogICAgICAgICAgICAgICAgICAgICBjYWxjTW9kZT0ibGluZWFyIg0KICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+DQogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3giDQogICAgICAgICAgICAgICAgICAgICBmcm9tPSI0OSIgdG89IjQ5Ig0KICAgICAgICAgICAgICAgICAgICAgYmVnaW49IjBzIiBkdXI9IjIuMnMiDQogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjQ5OzU7Mjc7NDkiDQogICAgICAgICAgICAgICAgICAgICBjYWxjTW9kZT0ibGluZWFyIg0KICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+DQogICAgICAgICAgICA8L2NpcmNsZT4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},RyqV:function(t,e){},S82i:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n="RECEIVE_ALBUMS",a="DELETE_ALBUM"},SQW9:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"navbar fixed-bottom navbar-light bg-light"},[i("div",{staticClass:"container"},[t._v("\n    Фотогалерея - 2017\n  ")])])}],s={render:n,staticRenderFns:a};e.a=s},T7Ie:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("Euvm"),a=i("X1qx"),s={uploadImages:function(t,e){var s=t.commit;return i.i(a.a)(e).then(function(t){s(n.a,t)})},setImages:function(t,e){(0,t.commit)(n.d,e)},deleteImage:function(t,e){var s=t.commit;i.i(a.b)(e.publicId).then(function(){s(n.b,e)})},resetUploadedImages:function(t){(0,t.commit)(n.c)}}},TVmP:function(t,e,i){"use strict";function n(t){i("pCbr")}var a=i("UthT"),s=i("SQW9"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-4eabef73",null);e.a=r.exports},UthT:function(t,e,i){"use strict";e.a={name:"footer"}},V2Sz:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={isLoading:function(t){return t.isLoading}}},V5U5:function(t,e,i){"use strict";function n(t){return o.a.http.get("albums/"+t).then(function(t){return t.body})}function a(t){return o.a.http.post("albums",t).then(function(){})}function s(t){return o.a.http.put("albums/"+t.id,t).then(function(){})}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return s});var o=i("7+uW")},V84S:function(t,e,i){"use strict";i("4qOc"),i("+cgv"),i("3f40"),window.Quill||(window.Quill=i("yPE/")),e.a={name:"quill-editor",data:function(){return{_content:"",defaultModules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}},props:{content:String,value:String,disabled:Boolean,options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null},methods:{initialize:function(){if(this.$el){var t=this;t.options.theme=t.options.theme||"snow",t.options.boundary=t.options.boundary||document.body,t.options.modules=t.options.modules||t.defaultModules,t.options.modules.toolbar=void 0!==t.options.modules.toolbar?t.options.modules.toolbar:t.defaultModules.toolbar,t.options.placeholder=t.options.placeholder||"Insert text here ...",t.options.readOnly=void 0!==t.options.readOnly&&t.options.readOnly,t.quill=new Quill(t.$refs.editor,t.options),(t.value||t.content)&&t.quill.pasteHTML(t.value||t.content),t.quill.on("selection-change",function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)}),t.quill.on("text-change",function(e,i,n){var a=t.$refs.editor.children[0].innerHTML,s=t.quill.getText();"<p><br></p>"===a&&(a=""),t._content=a,t.$emit("input",t._content),t.$emit("change",{editor:t.quill,html:a,text:s})}),this.disabled&&this.quill.enable(!1),t.$emit("ready",t.quill)}}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},VrOL:function(t,e,i){"use strict";i.d(e,"d",function(){return n}),i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return o});var n="RECEIVE_USER_INFO",a="SET_AUTH_TOKEN",s="AUTHENTICATION_LOGOFF",o="SET_AUTHORIZATION"},VuG2:function(t,e){},X1qx:function(t,e,i){"use strict";function n(t){return s.a.http.post("photos",t).then(function(t){return t.data})}function a(t){return s.a.http.delete("photos/"+t).then(function(t){return t.data})}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var s=i("7+uW")},X68B:function(t,e,i){"use strict";function n(t){i("bTR8")}var a=i("7knd"),s=i("MGJN"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-c8b3b9ec",null);e.a=r.exports},YaEn:function(t,e,i){"use strict";var n=i("7+uW"),a=i("/ocq"),s=i("IuYM"),o=i("tuUf"),u=i("jyZx"),r=i("FwSy"),c=i("Cucf");n.a.use(a.a),e.a=new a.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:s.a},{path:"/albums/:id",name:"album_details",component:o.a},{path:"/album_create",name:"album_create",component:u.a},{path:"/album_edit/:id",name:"album_edit",component:u.a},{path:"/about",name:"about",component:r.a},{path:"/login",name:"login",component:c.a}]})},bDyY:function(t,e,i){"use strict";var n=i("udne"),a=i("I2lz"),s=i("luY3"),o={userInfo:null,token:null,isAuthorized:!1};e.a={state:o,getters:n.a,actions:a.a,mutations:s.a}},bJDK:function(t,e,i){"use strict";function n(t){i("w2xD")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("V84S"),s=i("QJr5"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,null,null);e.default=r.exports},bTR8:function(t,e){},fAJB:function(t,e){},gufj:function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("JGiR"),o=i("NYxO");e.a={name:"home",data:function(){return{isLoading:!0}},created:function(){var t=this;this.$store.dispatch("changeLoadingState",!0),this.$store.dispatch("getAllAlbums").then(function(){t.$store.dispatch("changeLoadingState",!1),t.isLoading=!1})},computed:a()({},i.i(o.a)(["albums"])),components:{"album-preview":s.a}}},ipK7:function(t,e){},jyZx:function(t,e,i){"use strict";function n(t){i("VuG2")}var a=i("LTH/"),s=i("yI8n"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,null,null);e.a=r.exports},kbj8:function(t,e,i){"use strict";var n=i("Iv/H"),a=i("Crh/"),s=i("oMF2"),o={albumDetails:{}};e.a={state:o,getters:n.a,actions:a.a,mutations:s.a}},kgcm:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={albums:function(t){return t.all}}},lfLh:function(t,e,i){"use strict";function n(t){i("ipK7")}var a=i("Drc2"),s=i("w6WF"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-2543d930",null);e.a=r.exports},luY3:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n,a=i("bOdI"),s=i.n(a),o=i("VrOL"),u=(n={},s()(n,o.a,function(t,e){t.token=e}),s()(n,o.b,function(t){t.token=null,t.userInfo=null,t.isAuthorized=!1}),s()(n,o.c,function(t,e){t.isAuthorized=e}),s()(n,o.d,function(t,e){t.userInfo={id:e.id,displayName:e.display_name,firstName:e.first_name,lastName:e.last_name,login:e.login,realName:e.real_name}}),n)},"nZ/3":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("bOdI"),a=i.n(n),s=i("Jxv8"),o=a()({},s.a,function(t,e){t.isLoading=e})},niSG:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-page"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-10"},[i("h2",[t._v(t._s(t.album.title))])]),t._v(" "),t.isAuthorized?i("div",{staticClass:"col-2 edit-button"},[i("router-link",{attrs:{to:{name:"album_edit",params:{id:t.album.id}}}},[i("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}})])],1):t._e()]),t._v(" "),i("div",{staticClass:"row section"},[i("div",{staticClass:"col",domProps:{innerHTML:t._s(t.album.description)}})]),t._v(" "),t._l(t.album.images,function(t){return i("photo",{key:t.publicId,attrs:{photo:t}})})],2)},a=[],s={render:n,staticRenderFns:a};e.a=s},oMF2:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("bOdI"),a=i.n(n),s=i("4pJl"),o=a()({},s.a,function(t,e){t.albumDetails=e})},"oW+t":function(t,e){},otXQ:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about-page"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col is-loading-text"},[i("h2",[t._v("Осуществляем вход...")])])])])}],s={render:n,staticRenderFns:a};e.a=s},pCbr:function(t,e){},tQ2A:function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("X68B"),o=i("NYxO");e.a={name:"album_details",created:function(){var t=this;this.$store.dispatch("changeLoadingState",!0),this.$store.dispatch("getAlbumDetails",{albumId:this.$route.params.id}).then(function(){t.$store.dispatch("changeLoadingState",!1)})},computed:a()({},i.i(o.a)(["album","isAuthorized"])),components:{photo:s.a}}},tuUf:function(t,e,i){"use strict";function n(t){i("9im/")}var a=i("tQ2A"),s=i("niSG"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-5ab035a2",null);e.a=r.exports},uLDK:function(t,e){},udne:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={userInfo:function(t){return t.userInfo},token:function(t){return t.token},isAuthenticated:function(t){return t.token&&t.userInfo},isAuthorized:function(t){return t.isAuthorized}}},"v/PK":function(t,e,i){"use strict";function n(t){i("uLDK")}var a=i("KS8B"),s=i("/pWP"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-51d4db7e",null);e.a=r.exports},"w+0Q":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoading?i("div",{staticClass:"loading-block"},[t._m(0)]):t._e()},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading-block-loader"},[n("div",{staticClass:"loader"},[n("img",{attrs:{src:i("RyKK"),alt:""}})])])}],s={render:n,staticRenderFns:a};e.a=s},w2xD:function(t,e){},w6WF:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-navbar",{staticClass:"sticky-top row",attrs:{toggleable:"md",type:"dark",variant:"info"}},[i("b-nav-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),i("b-navbar-brand",{attrs:{href:"#/home"}},[t._v("Фотогалерея")]),t._v(" "),i("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[i("b-nav",{attrs:{"is-nav-bar":""}},[i("b-nav-item",{attrs:{to:"home"}},[t._v("\n          Главная\n        ")]),t._v(" "),t.isAuthorized?i("b-nav-item",{attrs:{to:"album_create"}},[t._v("\n          Создать альбом\n        ")]):t._e(),t._v(" "),i("b-nav-item",{attrs:{to:"about"}},[t._v("\n          О сайте\n        ")])],1),t._v(" "),i("b-nav",{staticClass:"ml-auto",attrs:{"is-nav-bar":""}},[t.isAuthenticated?i("b-nav-item-dropdown",{attrs:{right:""}},[i("template",{attrs:{slot:"button-content"},slot:"button-content"},[i("em",[t._v(t._s(t.userInfo.realName))])]),t._v(" "),i("b-dropdown-item",{attrs:{href:"#"},on:{click:t.logOff}},[t._v("Выход")])],2):t._e(),t._v(" "),t.isAuthenticated?t._e():i("a",{staticClass:"login-btn",attrs:{href:t.yandexLink}})],1)],1)],1)},a=[],s={render:n,staticRenderFns:a};e.a=s},xJD8:function(t,e,i){"use strict";var n=i("lfLh"),a=i("TVmP"),s=i("xrYz"),o=i("zvJS");e.a={name:"app",components:{navbar:n.a,"page-footer":a.a,"loading-block":s.a},created:function(){this.$store.dispatch("setToken",localStorage.getItem(o.a.authTokenKey)),this.$store.dispatch("getUserInfo")}}},xrYz:function(t,e,i){"use strict";function n(t){i("+La1")}var a=i("2Uuk"),s=i("w+0Q"),o=i("VU/8"),u=n,r=o(a.a,s.a,u,"data-v-48e88789",null);e.a=r.exports},yI8n:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"album-create"},[t.isEditMode?t._e():i("h2",[t._v("Новый альбом")]),t._v(" "),t.isEditMode?i("h2",[t._v("Редактирование альбома")]):t._e(),t._v(" "),i("b-form",{on:{submit:t.onSubmit}},[i("b-form-group",{attrs:{"label-for":"albumName",label:"Имя альбома:",feedback:"Имя альбома обязательно",state:!t.errors.has("albumName")}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"'required'",modifiers:{initial:!0}}],attrs:{id:"albumName",name:"albumName",type:"text",required:"",placeholder:"Введите имя альбома"},model:{value:t.form.title,callback:function(e){t.form.title=e},expression:"form.title"}})],1),t._v(" "),i("b-form-group",{staticClass:"description",attrs:{"label-for":"description",label:"Описание альбома:"}},[i("quill-editor",{attrs:{options:t.editorOptions},model:{value:t.form.description,callback:function(e){t.form.description=e},expression:"form.description"}})],1),t._v(" "),i("image-uploader"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.images.length,expression:"!images.length"}],staticClass:"error-box"},[t._v("Загрузи хотя бы одну фотографию")]),t._v(" "),i("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.errors.has("albumName")||!t.images.length}},[t._v("Сохранить")])],1)],1)},a=[],s={render:n,staticRenderFns:a};e.a=s},yJMf:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n,a=i("bOdI"),s=i.n(a),o=i("S82i"),u=i("yI9a"),r=(i.n(u),n={},s()(n,o.a,function(t,e){t.all=e}),s()(n,o.b,function(t,e){t.all=u(t.all,e)}),n)},ye8Q:function(t,e,i){"use strict";function n(t){return s.a.http.get(o+"/info?format=json&oauth_token="+t).then(function(t){return t.data})}function a(t){return s.a.http.get("users/isAuthorized/"+t).then(function(t){return t.data})}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var s=i("7+uW"),o="https://login.yandex.ru"},ykUz:function(t,e,i){"use strict";var n=i("kgcm"),a=i("/yPZ"),s=i("yJMf"),o={all:[]};e.a={state:o,getters:n.a,actions:a.a,mutations:s.a}},zvJS:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={authTokenKey:"AUTH_TOKEN"}}},["NHnr"]);
//# sourceMappingURL=app.81af0673fa5f50b17456.js.map